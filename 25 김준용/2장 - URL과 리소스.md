# 2장: URL과 리소스

## 인터넷의 리소스 탐색하기
    인터넷에서 리소스를 탐색하기 위해서는 URI(Universal Resource Indicator)가 필요하다. 
    이는 URL과 URN으로 분류되며, 가장 대표적으로 URL을 사용한다.
    예시로 http://www.joes-hardware.com/seasonal/index-fall.html 을 분석하겠다.

|부분|설명|
| ------------------------- | -------------------------------------------------- |
| http | URL의 스킴(Scheme). 리소스에 어떻게 접근하는지 알려준다. |
| | (이곳에선 HTTP 프로토콜을 사용한다고 말한다) |
| www.joes-hardware.com | 서버 위치. 리소스가 어디에 호스팅 되어 있는지 알려준다. |
| | (아파트 주소라고 생각하면 됨)
| /seasonal/index-fall.html | 리소스의 경로. 서버에 존재하는 로컬 리소스들 중에서 요청받은 리소스가 무엇인지 알려준다. |
| | (아파트 호실이라고 생각하면 됨) |
> 스킴://서버위치/경로

다른 프로토콜 예시:
- mailto:president@whitehouse.gov (이메일)
- ftp://ftp.lots-o-books.com/pub/complete-price-list.xls [FTP(File Transfer Protocol)]
- rtsp://www.joes-hardware.com:554/interview/cto_video (스트리밍 서비스)

## URL전 암흑기 시대

엄천난 수작업이었다.

예시로 ftp://ftp.lots-o-books.com/pub/complete-price-list.xls 를 그날 방식으로 해보자
 1) ftp.lots-o-books.com 을 ftp로 접속
 2) 익명 사용자로 로그인
 3) pub다렉토리로 이동 -> 바이너리 형식으로 전환
 4) complete-price-list.xls 다운로드
 5) complete-price-list.xls 열기

지금은
 1) ftp://ftp.lots-o-books.com/pub/complete-price-list.xls 열어
 2) complete-price-list.xls 보기

## URL 문법

URL 문법은 일반적으로 9개 부분으로 나뉜다.
**<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>**

|컴포넌트|설명|기본값|
| --- | --- | --- |
| 스킴 | 서버 접근 프로토콜 | 없음 |
| 사용자 이름 | 몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로 한다 | anonymous |
| 비밀번호 | 사용자의 비밀번호 | <이메일 주소> |
| 호스트 | 리소스를 호스팅하는 서버의 호스트 명이나 IP 주소 | 없음 |
| 포트 | 리소스를 호스팅하는 서버가 열어놓은 포트번호 | 스킴에 따라 다름 |
| 경로 | 서버 내 리소스가 어디에 있는지 가리킨다 (스킴에 따라 다를수 있음) | 없음 |
| 파라미터 | 특정 스킴의 입력 파라미터로 사용 | 없음 |
| 질의 | 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰임 | 없음 |
| 프래그먼트 | 리소스의 조각이나 일부분을 가리키는 이름 | 없음 |

> URL 문법은 생각 이상으로 비슷해서 대부분 스킴을 바꿨다고 URL문법도 완전히 바뀌지 않는다.
 
## 단축 URL

URL은 상대 URL과 절대 URL 두 가지로 나뉜다.
 - 절대 URL: 리소르에 접근하는데 필요한 모든 정보를 담고 있음
 - 상대 URL: URL을 짧게 표현하는 방식

상대 URL은 기저(base)를 사용하여 절대 URL을 생성할수 있다.
http://www.joes-hardware.com/tools.html인 절대 URL에서 ./hammers.html인 상대 URL을 사용하여 이동하는 예시를 들어 보자.
 1) 절대 URL의 기저 URL인 http://www.joes-hardware.com 을 갖어온다
 2) 갖어온 기저 URL에 /hammer.html을 붙인다
 3) http://www.joes-hardware.com/hammer.html 인 새로운 절대 URL을 만든다.

 URL 확장을 사용한 단축도 존재한다. 
 > 그냥 AutoFill이다
 과거에 방문했던 웹사이트를 자동으로 넣어주거나 'yahoo'를 입력하면 'www.'나 '.com'을 붙여주는 기능이다.

## 안전하지 않는 문자
    안전한 전송이란, 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미한다.
    출력이 되지 않거나 보이지 않는 문자를 사용할수 있더라도, 오류와 오해가 말생하지 않기위해 URL에서 그런 문자들을 사용하는것은 금지 되어 있다.

 - URL 문자 집합
    역사적으로 사용되었던 US-ASCII 문자 집합의 한계점을 돌파하기 위해 URL설계자들은 URL에 이스케이프 문자열을 쓸 수 있게 설계하였다.

 - 인코딩 체계
    표현의 한계를 넘기 위해, URL에 안전하지 않은 문자들을 표현할 수 있는 인코딩 방식이 고안되었다.

 - 문자 제한
    URL내에서 특별한 의미로 예약된 문자들을 다른 용도로 사용하기 위하여, 인코딩 하여 사용할수 있게 만들어졌다.

## 스킴의 바다
> 웹에서 쓰이는 일반 스킴들릐 포맷

|스킴|설명|
| ----------- | ----------------------------------------------------------------- |
| http |  일반 URL 포맷을 지키는 하이퍼텍스트 전송 프로토콜 스킴. 기본값 80 |
| https | http 스킴과 거의 같음. 넷스케이프에서 개발한 보안 소켓 계층을 사용. 기본값 443 |
| mailto | 이메일 주소를 가리킴 |
| ftp | 파일 전송 프로토콜. FTP 서버에 있는 파일을 내려받거나 올리고, 서버의 디렉터리에 있는 콘텐츠 목록을 가져오는 데 사용. |
| rtsp, rtspu | 실시간 스트리밍 프로토콜을 통해서 읽을 수 있는 오디오 및 비디오와 같은 미디어 리소스 식별자. |
| file | 주어진 호스트 기기에서 바로 접근할 수 있는 파일들을 나타냄 |
| news | 특정 문서나 뉴스 그룹에 접근하는 데 사용. 리소스의 위치 정보를 충분히 포함하지 않는 특성이 있음. 뉴스 그룹과 문서를 가리키는 URL을 구분하기 위해 '@' 문자를 사용함 |
| telnet | 대화형 서비스에 접근하는 데 사용 |

