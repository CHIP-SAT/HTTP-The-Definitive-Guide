### 1.1 HTTP: 인터넷의 멀티미디어 배달부
- **HTTP**
  - 신뢰성 있는 데이터 전송 프로토콜 사용 → 데이터가 전송 중 손상되거나 꼬이지 않음을 보장
---
### 1.2 웹 클라이언트와 서버
- `http://www.oreilly.com/index.html` 페이지 열어볼 때의 과정
  1. 웹 브라우저가 **HTTP 요청**을 `www.oreilly.com` 서버로 전송
  2. 웹 서버가 요청 받은 객체(`/index.html`)를 찾음.
  3. 객체를 찾으면, 객체의 타입, 길이 등의 정보를 담아 **HTTP 응답** 전송
---
### 1.3 리소스
- **웹 서버의 역할** : 웹 리소스 관리 및 제공
- **웹 리소스** : 웹에 콘텐츠를 제공하는 모든 것
- **웹 리소스의 종류**
  - 정적 파일
  - 동적 콘텐츠
- **MIME(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장)**
  - 원래 이메일 시스템에서 다양한 파일을 안전하게 전송하기 위해 개발된 인터넷 표준 포맷
    - **설계 배경**
      - 기본적으로 이메일과 같은 시스템들은 오직 7비트 ASCII 문자만을 지원하기 때문에, 영어가 아닌 이진 데이터(이미지, 음성, 동영상, 실행 파일 등)를 전송하는 데 한계가 있었음.
      - MIME는 이러한 데이터를 특정 형식으로 변환하여 안전하게 전송할 수 있게 해줌.

  - **HTTP 통신에 MIME 타입이 채택된 이유**
    - 멀티미디어 콘텐츠를 기술하고 라벨을 붙이기 위함.
  - 웹 서버는 모든 HTTP 객체 데이터에 MIME 타입을 붙여서 전송
    ```
    Content-type: image/jpeg
    Content-length: 12984
    ```
    - `Content-type` : 문서의 MIME 타입
    - `Content-length` : 응답 본문 길이
      
  - **MIME 타입 구조**
    - `주 타입` / `부 타입`
      - 주 타입(primary object type) : 파일의 범주(ex. text, image, video, audio, application, multipart 등)
      - 부 타입(specific subtype) : 해당 범주 안에서의 구체적인 포맷(ex. html, plain, jpeg, png, gif 등)
  - **URI(Uniform Resource Identifier, 통합 자원 식별자)**
    - 인터넷 자원을 식별하는 식별자로, 정보 리소스를 고유하게 **식별**하고 위치 지정 가능
    - **URI의 종류**
      - **URL(Uniform Resource Locator, 통합 자원 지시자)**
        - 인터넷 자원의 위치와 접근 방법을 포함하여, 실제로 그 자원을 **어디서** **어떻게** 찾을 수 있는지 알려주는 **URI의 한 종류**
        - **URL의 구조**
          ```
          http://www.joes-hardware.com/specials/saw-blade.gif
          ```
          - scheme : 리소스에 접근하기 위해 사용되는 프로토콜 → ex) `http://`
          - 서버의 인터넷 주소 → ex) `www.joes-hardware.com`
          - 웹 서버의 리소스 → ex) `/specials/saw-blade.gif`
      - **URN(Uniform Resource Name)**
        - 콘텐츠를 이루는 한 리소스에 대해, 그 리소스의 **위치에 영향을 받지 않는 유일무이한 이름**
---
### 1.4 트랜잭션
- **HTTP 트랜잭션의 구성**
  - **요청 명령** (클라이언트 → 서버)
    - 명령과 URI를 포함
  - **응답 결과** (서버 → 클라이언트)
    - 트랜잭션의 결과를 포함
    
- **자주 사용되는 HTTP 메서드**
   |HTTP 메서드|설명|
  | ------ | ----------------------------------------------------- |
  | GET    | 서버에서 클라이언트로 데이터 전송                     |
  | PUT    | 데이터 저장                                           |
  | DELETE | 데이터 삭제                                           |
  | POST   | 클라이언트에서 서버로 데이터 전송                     |
  | HEAD   | GET과 동일하게 요청하지만, 본문 없이 헤더 정보만 전송 |

- **상태 코드**
  - 서버가 클라이언트에게 요청이 성공했는지, 아니면 추가 조치가 필요한지 알려주는 세 자리 숫자

  - **자주 사용되는 상태 코드**
    |HTTP 상태 코드|설명|
    | --- | ----------------------------------------------------------------------- |
    | 200 | 요청 성공                                                               |
    | 302 | 요청한 자원을 임시로 다른 곳으로 이동 시켰으니, 새 위치로 다시 요청해라 |
    | 404 | 요청한 자원을 찾을 수 없다                                              |
  - cf. 사유 구절은 단지 설명 만을 위해 포함된 것일 뿐, 실제 응답 처리에는 숫자 상태 코드가 사용됨
- 웹페이지는 첨부된 리소스들에 대해 **각각 별개의 HTTP 트랜잭션을 수행**
---
### 1.5 메시지
- HTTP는 이진 형식이 아닌, 단순한 줄 단위 문자열
- **HTTP 메시지의 구성**
  - **시작줄**
    - 요청 → 무엇을 해야하는지 작성
    - 응답 → 무슨 일이 일어났는지 작성
  - **헤더**
    - 각 헤더 필드는 `이름: 값` 으로 구성됨
    - 빈 줄의 의미 : 헤더가 끝났고 이후부터는 메시지 본문이 시작됨
  - **본문**
    - 텍스트 뿐만 아니라 임의의 이진 데이터도 포함 가능(이미지, 비디오, 오디오 트랙, 응용 소프트웨어)
  <img width="934" height="278" alt="image" src="https://github.com/user-attachments/assets/618b47f9-eba3-4988-9808-57570ce431f3" />
---
### 1.6 TCP 커넥션
- **TCP가 제공하는 기능**
  - 오류 없는 데이터 전송
  - 전송한 순서대로 데이터 전달
  - 언제든 어떤 크기로든 데이터 전송 가능
- **TCP/IP**
  - 각 네트워크와 하드웨어의 특성을 숨기고, 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성 있는 의사소통을 하게 해줌.
- **TCP 연결을 하기 위해 필요한 정보**
  1. 서버 컴퓨터에 대한 IP 주소
  2. 그 서버에서 실행 중인 프로그램이 사용 중인 포트 번호

     ⇒ **URL을 통해 알 수 있음**
- **호스트 명**
  - IP 주소에 대한 이해하기 쉬운 형태의 별명
  - DNS를 통해 IP로 변환
- **URL에 포트 번호가 나와있지 않다면?** → 기본값 80이라고 가정

- **웹 브라우저가 HTTP를 이용해 멀리 떨어진 곳에 있는 서버의 HTML 리소스를 사용자에게 표시하는 과정**
  1. 웹 브라우저가 서버의 URL에서 **호스트 명**을 추출
  2. 추출한 호스트 명을 **IP**로 변환
  3. URL에 **포트 번호**가 있다면 추출
  4. 웹 브라우저는 웹 서버와 **TCP 커넥션**을 맺음
  5. 웹 브라우저가 서버에 **HTTP 요청**을 보냄
  6. 서버가 웹 브라우저에게 **HTTP 응답**을 돌려줌
  7. TCP 연결이 종료되면 웹 브라우저는 문서를 보여줌
---
### 1.7 프로토콜 버전
- HTTP/0.9 : 간단한 HTML 객체를 받아오기 위해 만들어짐
- HTTP/1.0 : 버전 번호, HTTP 헤더, 추가 메서드, 멀티미디어 객체 처리 추가
- HTTP/1.0+ : keep-alive 커넥션, 가상 호스팅 지원, 프락시 연결 지원 추가
- HTTP/1.1 : HTTP 설계의 구조적 결함 교정, 두드러진 성능 최적화, 잘못된 기능이 제거된 현재의 HTTP 버전
- HTTP/2.0 : HTTP/1.1의 성능 문제를 개선하기 위해 구글의 SPDY 프로토콜을 기반으로 설계 진행 중인 프로토콜
---
### 1.8 웹의 구성요소
- **프락시**
  - 클라이언트와 서버 사이에 위치한 HTTP 중개자
  - 사용자를 위한 프락시로 동작하여, 사용자 대신 서버에 접근
  - 요청 및 응답 필터링
  - 주로 보안을 위해 사용
- **캐시**
  - 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
  - **캐시에서 HTTP의 역할**
    - 캐시를 효율적으로 동작
    - 캐시된 콘텐츠를 최신 버전으로 유지
    - 프라이버시를 보호하기 위한 많은 기능 정의
- **게이트웨이**
  - 다른 애플리케이션과 연결된 특별한 웹 서버
  - HTTP 트래픽을 다른 프로토콜로 변환하기 위해 사용
  - 스스로가 리소스를 갖고 있는 진짜 서버인 것 처럼 요청을 다루기 때문에, 클라이언트는 자신이 게이트웨이와 통신하고 있음을 알아채지 못함
- **터널**
  - 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
  - HTTP 터널 : 원래 HTTP가 아닌 다른 종류의 데이터(FTP, SSH 같은 프로토콜 데이터)를 HTTP 프로토콜의 패킷 안에 그대로 포장해서 전송하는 기술
    - ex) 암호화된 SSL 트래픽을 HTTP 채널을 통해 전송
- **에이전트**
  - 사용자를 위해 HTTP 요청을 만들어주는 클라이언트 프로그램
  - 스파이더/웹로봇 : 사람의 통제 없이 스스로 웹을 돌아다니며 HTTP 트랜잭션을 일으키고 콘텐츠를 받아오는 자동화된 에이전트
