### 2.1 인터넷의 리소스 탐색하기

- **URI**
    - **URN** : 현재 그 리소스가 어디에 존재하든 상관없이, 그 이름 만으로 리소스를 식별
    - **URL** : 리소스가 어디 있는지 설명해서 리소스를 식별
- `http://www.joes-hardware.com/seasonal/index-fall.html`
    - `http://` : 스킴(어떻게)에 해당
        - 스킴은 웹 클라이언트가 리소스에 어떻게 접근하는지 알려줌.
    - `www.joes-hardware.com` : 호스트(어디에)에 해당
    - `/seasonal/index-fall.html` : 경로(무엇에)에 해당
- URL은 단일 방식의 작명 규칙을 가짐
    - `스킴`://`서버위치`/`경로`
- URL을 사용하면 하나의 인터페이스를 통해 **일관된 방식**으로 많은 리소스에 접근 가능

---

### 2.2 URL 문법

- URL 문법은 **스킴**에 따라서 달라짐.
- **대부분의 URL 스킴 문법**
    - `<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`
- **URL의 가장 중요한 세 가지 컴포넌트**
    - 스킴
    - 호스트
    - 경로
- **스킴**
    - **어떤 프로토콜**을 사용하여 리소스를 요청해야 하는지 알려줌
    - 스킴 명은 대소문자를 가리지 않음
        - `http://~~`와`HTTP://~~`는 동일
- **호스트와 포트**
    - **애플리케이션이 인터넷에 있는 리소스를 찾기 위해 필요한 정보**
        1. **리소스를 호스팅하고 있는 장비** → 호스트 컴포넌트(호스트 명이나 IP 주소로 제공)
            - `http://www.joes-hardware.com:80/index.html`
            - `http://161.58.228.45:80/index.html`
        2. **장비 내 에서 리소스에 접근할 수 있는 서버의 위치** → 포트 컴포넌트
            - TCP 프로토콜을 사용하는 HTTP는 기본 포트로 80을 사용
- **경로**
    - 서버가 리소스의 위치를 찾는데 사용하는 정보
- **파라미터**
    - URL을 사용하는 애플리케이션이 리소스에 접근하려면 프로토콜 파라미터가 필요
    - 애플리케이션이 서버에 정확한 요청을 하기 위해 필요한 입력 파라미터를 받는데 사용
    - 이름/값 쌍의 리스트로 ; 문자로 구분하여 URL에 기술
        - `ftp://prep.ai.mit.edu/pub/gnu;type=d`
- **질의 문자열**
    - 게이트웨이를 가리키는 URL의 경로 컴포넌트와 함께 전달
    - `http://www.joes-hardware.com/inventory-check.cgi?item=12731`
- **프래그먼트**
    - 프래그먼트가 필요한 이유 : 리소스의 특정 부분을 가리킬 수 있도록 하기 위함
    - URL의 오른쪽에 `#`문자에 이어서 옴
        - `http://www.joes-hardware.com/tools.html#drills`
        - `drills`는 웹 서버에 위치한 `/tools.html` 웹 페이지의 일부를 가리킴
    - 일반적으로 HTTP 서버는 객체 일부가 아닌 **전체 단위로만 전송**하기 때문에, URL 프래그먼트는 **클라이언트에서만 사용됨**
        - 사용자가 `http://www.joes-hardware.com/tools.html#drills` 링크 선택
        - 브라우저는 `http://www.joes-hardware.com/tools.html`을 서버에 요청
        - 서버는 전체 HTML 페이지를 반환
        - 브라우저는 `drills` 프래그먼트로 시작하는 HTML 페이지를 보여줌

---

### 2.3 단축 URL

- **URL**
    - **상대 URL**
        - URL을 짧게 표기하는 방식
        - 리소스에 접근하는데 필요한 모든 정보를 얻기 위해선, 기저 URL을 사용해야 함
            - 기저 URL : `http://www.joes-hardware.com/tools.html`
            - 상대 URL : `./hammers.html`
        - HTML 페이지 같은 리소스 집합을 쉽게 변경 가능
        - 문서 집합의 위치를 변경하더라도, 새로운 기저 URL에 의해 해석될 것이기 때문에 위치를 변경하더라도 잘 동작할 것
            
            ⇒ 다른 서버에 있는 콘텐츠를 미러링 할 수 있게 허용하는 것과 유사
    - **절대 URL**
        - 리소스에 접근하는데 필요한 모든 정보를 가짐
- **URL 확장**
    - **호스트 명 확장**
        - 단순한 휴리스틱만을 사용해서 입력한 호스트 명을 전체 호스트 명으로 확장
        - ex) 주소 입력란에 `yahoo`를 입력하면, 브라우저는 호스트 명에 자동으로 `www.`와 `.com`을 붙여서 `www.yahoo.com`을 만듦
        - 문제점 : 프락시와 같은 다른 HTTP 애플리케이션에 문제를 발생시킬 수 있음
    - **히스토리 확장**
        - 과거에 사용자가 방문했던 URL의 기록을 저장해 놓고, URL을 입력하면 입력된 URL의 앞 글자들을 포함하는 완결된 형태의 URL들을 선택하게 해줌
        - ex) `http://www.joes-`만 입력해도 `http://www.joes-hardware.com`을 보여줌
        - 주의 사항 : 프락시를 사용할 경우 URL 자동확장 기능은 다르게 동작할 수 있음

---

### 2.4 안전하지 않은 문자

- **안전한 전송** : 정보가 유실될 위험 없이 URL을 전송할 수 있다는 것을 의미
- URL은 일반적으로 **모든 인터넷 프로토콜로 URL이 전송**될 수 있게 하기 위해 **안전한 알파벳 문자만 포함**
- 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있게 하기 위해 **이스케이프**라는 기능을 추가
- 인코딩은 안전하지 않은 문자를 `%`기호로 시작해, ASCII 코드로 표현되는 2개의 16진수 숫자로 이루어진 이스케이프 문자로 바꿈
- 안전하지 않은 모든 문자를 인코딩하면, 다른 애플리케이션으로부터 특별한 의미를 갖는 문자를 받았을 때, 혼동 없이 애플리케이션 간에 공유할 수 있는 URL의 원형을 유지할 수 있음
- 어떤 문자를 인코딩할지 결정하는 것은 사용자로부터 최초로 URL을 입력받는 **애플리케이션**에서 하는 것이 가장 적절함

---

### 2.5 스킴의 바다

- `http` : 일반 URL 포맷을 지키는 HTTP 전송 프로토콜로, 기본 포트 값은 `80`
- `https` : HTTP의 커넥션 양 끝단에서 **암호화**하기 위해 **보안 소켓 계층(SSL)을 사용**한 프로토콜로, 기본 포트 값은 `443`
- `mailto` : 이메일 주소를 가리키는 프로토콜
- `ftp` : FTP 서버에 있는 파일을 내려 받거나 올리고, FTP 서버의 디렉터리에 있는 콘텐츠 목록을 가져오는 데 사용하는 파일 전송 프로토콜
    - 웹 애플리케이션은 데이터에 접근하는 용도의 스킴으로 FTP를 사용
- `rtsp`, `rtspu` : 실시간 스트리밍 프로토콜을 통해 읽을 수 있는 오디오 및 비디오와 같은 미디어 리소스 식별자
    - rtspu 스킴에서 `u`는 리소스를 읽기 위해 `UDP` 프로토콜이 사용됨을 의미
- `file` : 로컬 디스크나 네트워크 파일 시스템 등 주어진 호스트 기기에서 바로 접근할 수 있는 파일
    - 호스트가 생략된 경우 URL을 사용하고 있는 기기의 로컬 호스트가 기본 값
- `new` : 특정 문서나 뉴스 그룹에 접근하는 데 사용
    - 리소스의 위치 정보를 충분히 포함하지 않음
    - 해당 리소스가 어디에 있는지에 대한 정보 X, 호스트 명 X, 서버 이름 X ⇒ 애플리케이션이 알아내야 함.
- `telnet` : 대화형 서비스에 접근하는데 사용

---

### 2.6 미래

- **URL의 한계**
    - URL은 실제 이름이 아니라 **주소**이기 때문에, 리소스의 위치가 변경되면 해당 리소스를 찾을 수 없음.
- **해결**
    - URN 사용
    - PURL은 리소스의 실제 URL 목록을 관리하고 추적하는 **리소스 위치 중개 서버**를 두고, 해당 리소스를 우회적으로 제공함.
